(self["webpackChunksupermall"]=self["webpackChunksupermall"]||[]).push([[559],{632:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return D}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home"}},[r("nav-bar",{staticClass:"home-nav"},[r("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),r("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTabFixed,expression:"isTabFixed"}],ref:"tabControl1",staticClass:"tab-control",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabClick}}),r("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3,"pull-up-load":!0},on:{scroll:t.contentScroll,pullingUp:t.loadMore}},[r("home-swiper",{attrs:{banners:t.banners},on:{swiperImageLoad:t.swiperImageLoad}}),r("recommend-view",{attrs:{recommends:t.recommends}}),r("feature-views"),r("tab-control",{ref:"tabControl2",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabClick}}),r("goods-list",{attrs:{goods:t.showGoods}})],1),r("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(e){return t.backClick.apply(null,arguments)}}})],1)},o=[];function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t){if(Array.isArray(t))return i(t)}r(2526),r(1817),r(1539),r(2165),r(8783),r(3948),r(1038);function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r(7042),r(8309),r(4916),r(7601);function c(t,e){if(t){if("string"===typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}r(1703);function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return s(t)||a(t)||c(t)||u()}var l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("swiper",t._l(t.banners,(function(e){return r("swiper-item",{key:e.image},[r("a",{attrs:{href:e.link}},[r("img",{attrs:{src:e.image,alt:""},on:{load:t.imageLoad}})])])})),1)},d=[],p=r(9068),m={name:"HomeSwiper",props:{banners:{type:Array,default:function(){return[]}}},data:function(){return{isLoad:!1}},components:{Swiper:p.k,SwiperItem:p.t},methods:{imageLoad:function(){this.isLoad||this.$emit("swiperImageLoad"),this.isLoad=!0}}},h=m,v=r(1001),b=(0,v.Z)(h,l,d,!1,null,"248c60ea",null),y=b.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"recommend"},t._l(t.recommends,(function(e){return r("div",{key:e.image,staticClass:"recommend-item"},[r("a",{attrs:{href:"item.link"}},[r("img",{attrs:{src:e.image,alt:""}}),r("div",[t._v(t._s(e.title))])])])})),0)},w=[],S={name:"RecommendView",props:{recommends:{type:Array,default:function(){return[]}}}},k=S,x=(0,v.Z)(k,g,w,!1,null,"e7bdb6d8",null),C=x.exports,T=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"feature"},[n("a",{attrs:{href:"https://act.mogujie.com/zzlx67"}},[n("img",{attrs:{src:r(8775),alt:""}})])])}],O={name:"FeatureViews"},_=O,A=(0,v.Z)(_,T,$,!1,null,"644c70f1",null),I=A.exports,j=r(135),E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,n){return r("div",{key:e,staticClass:"tab-control-item",class:{active:n===t.currentIndex},on:{click:function(e){return t.itemClick(n)}}},[r("span",[t._v(t._s(e))])])})),0)},L=[],H={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}},P=H,Z=(0,v.Z)(P,E,L,!1,null,"1b8647f7",null),F=Z.exports,G=r(5449),N=r(6610),B=r(2924);function M(){return(0,B.W)({url:"/home/multidata"})}function V(t,e){return(0,B.W)({url:"home/data",params:{type:t,page:e}})}var R=r(2815),U=r(4892),W={name:"Home",components:{HomeSwiper:y,RecommendView:C,FeatureViews:I,NavBar:j.Z,TabControl:F,GoodsList:G.Z,BackTop:N.Z,Scroll:U.Z},data:function(){return{banners:[],recommends:[],mes:null,goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},currentType:"pop",isShowBackTop:!1,tabOffsetTop:0,isTabFixed:!1,saveY:0}},computed:{showGoods:function(){return this.goods[this.currentType].list}},activated:function(){this.$refs.scroll.scrollTo(0,this.saveY,0),this.$refs.scroll.refresh()},deactivated:function(){this.saveY=this.$refs.scroll.scroll.y},created:function(){this.getHomeMultidata(),this.getHomeGoods("pop"),this.getHomeGoods("new"),this.getHomeGoods("sell")},mounted:function(){this.$refs.swiper;var t=(0,R.D)(this.$refs.scroll.refresh,500);this.$bus.$on("homeItemImageLoad",(function(){t()}))},methods:{tabClick:function(t){switch(t){case 0:this.currentType="pop";break;case 1:this.currentType="new";break;case 2:this.currentType="sell";break}this.$refs.tabControl1.currentIndex=t,this.$refs.tabControl2.currentIndex=t},backClick:function(){this.$refs.scroll.scrollTo(0,0,500)},contentScroll:function(t){this.isShowBackTop=-t.y>1e3,this.isTabFixed=-t.y>this.tabOffsetTop},loadMore:function(){this.getHomeGoods(this.currentType),this.$refs.scroll.scroll.refresh()},swiperImageLoad:function(){this.tabOffsetTop=this.$refs.tabControl2.$el.offsetTop},getHomeMultidata:function(){var t=this;M().then((function(e){t.mes=e,t.banners=e.data.banner.list,t.recommends=e.data.recommend.list}))},getHomeGoods:function(t){var e=this,r=this.goods[t].page+1;V(t,r).then((function(r){var n;(n=e.goods[t].list).push.apply(n,f(r.data.list)),e.goods[t].page+=1,e.$refs.scroll.finishPullUp()}))}}},Y=W,z=(0,v.Z)(Y,n,o,!1,null,"315edacf",null),D=z.exports},8457:function(t,e,r){"use strict";var n=r(7854),o=r(9974),i=r(6916),s=r(7908),a=r(3411),c=r(7659),u=r(4411),f=r(6244),l=r(6135),d=r(8554),p=r(1246),m=n.Array;t.exports=function(t){var e=s(t),r=u(this),n=arguments.length,h=n>1?arguments[1]:void 0,v=void 0!==h;v&&(h=o(h,n>2?arguments[2]:void 0));var b,y,g,w,S,k,x=p(e),C=0;if(!x||this==m&&c(x))for(b=f(e),y=r?new this(b):m(b);b>C;C++)k=v?h(e[C],C):e[C],l(y,C,k);else for(w=d(e,x),S=w.next,y=r?new this:[];!(g=i(S,w)).done;C++)k=v?a(w,h,[g.value,C],!0):g.value,l(y,C,k);return y.length=C,y}},2092:function(t,e,r){var n=r(9974),o=r(1702),i=r(8361),s=r(7908),a=r(6244),c=r(5417),u=o([].push),f=function(t){var e=1==t,r=2==t,o=3==t,f=4==t,l=6==t,d=7==t,p=5==t||l;return function(m,h,v,b){for(var y,g,w=s(m),S=i(w),k=n(h,v),x=a(S),C=0,T=b||c,$=e?T(m,x):r||d?T(m,0):void 0;x>C;C++)if((p||C in S)&&(y=S[C],g=k(y,C,w),t))if(e)$[C]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return C;case 2:u($,y)}else switch(t){case 4:return!1;case 7:u($,y)}return l?-1:o||f?f:$}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},1194:function(t,e,r){var n=r(7293),o=r(5112),i=r(7392),s=o("species");t.exports=function(t){return i>=51||!n((function(){var e=[],r=e.constructor={};return r[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},1589:function(t,e,r){var n=r(7854),o=r(1400),i=r(6244),s=r(6135),a=n.Array,c=Math.max;t.exports=function(t,e,r){for(var n=i(t),u=o(e,n),f=o(void 0===r?n:r,n),l=a(c(f-u,0)),d=0;u<f;u++,d++)s(l,d,t[u]);return l.length=d,l}},7475:function(t,e,r){var n=r(7854),o=r(3157),i=r(4411),s=r(111),a=r(5112),c=a("species"),u=n.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,i(e)&&(e===u||o(e.prototype))?e=void 0:s(e)&&(e=e[c],null===e&&(e=void 0))),void 0===e?u:e}},5417:function(t,e,r){var n=r(7475);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},3411:function(t,e,r){var n=r(9670),o=r(9212);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(s){o(t,"throw",s)}}},6135:function(t,e,r){"use strict";var n=r(4948),o=r(3070),i=r(9114);t.exports=function(t,e,r){var s=n(e);s in t?o.f(t,s,i(0,r)):t[s]=r}},7235:function(t,e,r){var n=r(857),o=r(2597),i=r(6061),s=r(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||s(e,t,{value:i.f(t)})}},3157:function(t,e,r){var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},1156:function(t,e,r){var n=r(4326),o=r(5656),i=r(8006).f,s=r(1589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(e){return s(a)}};t.exports.f=function(t){return a&&"Window"==n(t)?c(t):i(o(t))}},857:function(t,e,r){var n=r(7854);t.exports=n},6061:function(t,e,r){var n=r(5112);e.f=n},1038:function(t,e,r){var n=r(2109),o=r(8457),i=r(7072),s=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:s},{from:o})},7042:function(t,e,r){"use strict";var n=r(2109),o=r(7854),i=r(3157),s=r(4411),a=r(111),c=r(1400),u=r(6244),f=r(5656),l=r(6135),d=r(5112),p=r(1194),m=r(206),h=p("slice"),v=d("species"),b=o.Array,y=Math.max;n({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var r,n,o,d=f(this),p=u(d),h=c(t,p),g=c(void 0===e?p:e,p);if(i(d)&&(r=d.constructor,s(r)&&(r===b||i(r.prototype))?r=void 0:a(r)&&(r=r[v],null===r&&(r=void 0)),r===b||void 0===r))return m(d,h,g);for(n=new(void 0===r?b:r)(y(g-h,0)),o=0;h<g;h++,o++)h in d&&l(n,o,d[h]);return n.length=o,n}})},1817:function(t,e,r){"use strict";var n=r(2109),o=r(9781),i=r(7854),s=r(1702),a=r(2597),c=r(614),u=r(7976),f=r(1340),l=r(3070).f,d=r(9920),p=i.Symbol,m=p&&p.prototype;if(o&&c(p)&&(!("description"in m)||void 0!==p().description)){var h={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:f(arguments[0]),e=u(m,this)?new p(t):void 0===t?p():p(t);return""===t&&(h[e]=!0),e};d(v,p),v.prototype=m,m.constructor=v;var b="Symbol(test)"==String(p("test")),y=s(m.toString),g=s(m.valueOf),w=/^Symbol\((.*)\)[^)]+$/,S=s("".replace),k=s("".slice);l(m,"description",{configurable:!0,get:function(){var t=g(this),e=y(t);if(a(h,t))return"";var r=b?k(e,7,-1):S(e,w,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:v})}},2165:function(t,e,r){var n=r(7235);n("iterator")},2526:function(t,e,r){"use strict";var n=r(2109),o=r(7854),i=r(5005),s=r(2104),a=r(6916),c=r(1702),u=r(1913),f=r(9781),l=r(133),d=r(7293),p=r(2597),m=r(3157),h=r(614),v=r(111),b=r(7976),y=r(2190),g=r(9670),w=r(7908),S=r(5656),k=r(4948),x=r(1340),C=r(9114),T=r(30),$=r(1956),O=r(8006),_=r(1156),A=r(5181),I=r(1236),j=r(3070),E=r(6048),L=r(5296),H=r(206),P=r(1320),Z=r(2309),F=r(6200),G=r(3501),N=r(9711),B=r(5112),M=r(6061),V=r(7235),R=r(8003),U=r(9909),W=r(2092).forEach,Y=F("hidden"),z="Symbol",D="prototype",J=B("toPrimitive"),Q=U.set,q=U.getterFor(z),K=Object[D],X=o.Symbol,tt=X&&X[D],et=o.TypeError,rt=o.QObject,nt=i("JSON","stringify"),ot=I.f,it=j.f,st=_.f,at=L.f,ct=c([].push),ut=Z("symbols"),ft=Z("op-symbols"),lt=Z("string-to-symbol-registry"),dt=Z("symbol-to-string-registry"),pt=Z("wks"),mt=!rt||!rt[D]||!rt[D].findChild,ht=f&&d((function(){return 7!=T(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=ot(K,e);n&&delete K[e],it(t,e,r),n&&t!==K&&it(K,e,n)}:it,vt=function(t,e){var r=ut[t]=T(tt);return Q(r,{type:z,tag:t,description:e}),f||(r.description=e),r},bt=function(t,e,r){t===K&&bt(ft,e,r),g(t);var n=k(e);return g(r),p(ut,n)?(r.enumerable?(p(t,Y)&&t[Y][n]&&(t[Y][n]=!1),r=T(r,{enumerable:C(0,!1)})):(p(t,Y)||it(t,Y,C(1,{})),t[Y][n]=!0),ht(t,n,r)):it(t,n,r)},yt=function(t,e){g(t);var r=S(e),n=$(r).concat(xt(r));return W(n,(function(e){f&&!a(wt,r,e)||bt(t,e,r[e])})),t},gt=function(t,e){return void 0===e?T(t):yt(T(t),e)},wt=function(t){var e=k(t),r=a(at,this,e);return!(this===K&&p(ut,e)&&!p(ft,e))&&(!(r||!p(this,e)||!p(ut,e)||p(this,Y)&&this[Y][e])||r)},St=function(t,e){var r=S(t),n=k(e);if(r!==K||!p(ut,n)||p(ft,n)){var o=ot(r,n);return!o||!p(ut,n)||p(r,Y)&&r[Y][n]||(o.enumerable=!0),o}},kt=function(t){var e=st(S(t)),r=[];return W(e,(function(t){p(ut,t)||p(G,t)||ct(r,t)})),r},xt=function(t){var e=t===K,r=st(e?ft:S(t)),n=[];return W(r,(function(t){!p(ut,t)||e&&!p(K,t)||ct(n,ut[t])})),n};if(l||(X=function(){if(b(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,e=N(t),r=function(t){this===K&&a(r,ft,t),p(this,Y)&&p(this[Y],e)&&(this[Y][e]=!1),ht(this,e,C(1,t))};return f&&mt&&ht(K,e,{configurable:!0,set:r}),vt(e,t)},tt=X[D],P(tt,"toString",(function(){return q(this).tag})),P(X,"withoutSetter",(function(t){return vt(N(t),t)})),L.f=wt,j.f=bt,E.f=yt,I.f=St,O.f=_.f=kt,A.f=xt,M.f=function(t){return vt(B(t),t)},f&&(it(tt,"description",{configurable:!0,get:function(){return q(this).description}}),u||P(K,"propertyIsEnumerable",wt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:X}),W($(pt),(function(t){V(t)})),n({target:z,stat:!0,forced:!l},{for:function(t){var e=x(t);if(p(lt,e))return lt[e];var r=X(e);return lt[e]=r,dt[r]=e,r},keyFor:function(t){if(!y(t))throw et(t+" is not a symbol");if(p(dt,t))return dt[t]},useSetter:function(){mt=!0},useSimple:function(){mt=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!f},{create:gt,defineProperty:bt,defineProperties:yt,getOwnPropertyDescriptor:St}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:kt,getOwnPropertySymbols:xt}),n({target:"Object",stat:!0,forced:d((function(){A.f(1)}))},{getOwnPropertySymbols:function(t){return A.f(w(t))}}),nt){var Ct=!l||d((function(){var t=X();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}));n({target:"JSON",stat:!0,forced:Ct},{stringify:function(t,e,r){var n=H(arguments),o=e;if((v(e)||void 0!==t)&&!y(t))return m(e)||(e=function(t,e){if(h(o)&&(e=a(o,this,t,e)),!y(e))return e}),n[1]=e,s(nt,null,n)}})}if(!tt[J]){var Tt=tt.valueOf;P(tt,J,(function(t){return a(Tt,this)}))}R(X,z),G[Y]=!0},8775:function(t,e,r){"use strict";t.exports=r.p+"img/recommend_bg.a1646d5d.jpg"}}]);
//# sourceMappingURL=559-legacy.8f551766.js.map